<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body>

<div th:replace="layout/public_layout :: navigation"></div>

<div class="container py-4">
	<div class="card bg-dark text-white">
		<div class="card-header" th:text="${titulo}+' para '+${piso.nombre}"></div>
			<div class="card-body">
			
			<div th:object="${servicios}" th:remove="tag">
					<ul th:if="${#fields.hasErrors('*')}" class="alert alert-danger"
						role="alert">
						<li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
					</ul>
				</div>
			
				<form th:action="@{/galeria/guardarServicio}" th:object="${servicios}" method="POST">					
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Nombre del Servicio:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{nombreServicio}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('nombreServicio')}" th:errors="*{nombreServicio}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Nombre del Servicio EN:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{nombreServicioEN}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('nombreServicio')}" th:errors="*{nombreServicio}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Nombre del Servicio FR:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{nombreServicioFR}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('nombreServicio')}" th:errors="*{nombreServicio}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Nombre del Servicio DE:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{nombreServicioDE}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('nombreServicio')}" th:errors="*{nombreServicio}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Descripción:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{descripcion}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Descripción EN:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{descripcionEN}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Descripción FR:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{descripcionFR}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></small>
						</div>
					</div>
						<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Descripción DE:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{descripcionDE}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></small>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-5 col-form-label">
							<label class="col-sm-10 col-form-label">Datos del icono:</label>
						</div>
						<div class="col-md-5 col-form-label">
							<input type="text" th:field="*{icono}" class="form-control" /> 
							<small class="form-text text-danger" th:if="${#fields.hasErrors('icono')}" th:errors="*{icono}"></small>
						</div>
					</div>
					<div class="row-md-5">
						<div class="col-md-5 col-form-label">
							<button class="btn btn-secondary" type="submit">Añadir servicio</button>
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#instrucciones">
							  Instrucciones
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<div class="container py-4" th:if="${serviciosActivos != 0}">
			<table class="table table-sm">
				<thead>
					<tr>
						<th scope="col">Nombre del Servicio</th>
						<th scope="col">Datos del icono</th>
						<th scope="col">Descripción</th>
						<th scope="col">Eliminar</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="servicio: ${serviciosActivos}">
						<td th:text="${servicio.nombreServicio}"></td>
						<td th:text="${servicio.icono}"></td>
						<td th:text="${servicio.descripcion}"></td>
						<td>
							<a class="btn btn-danger btn-xs"
							th:href="@{/galeria/eliminarServicio/}+${servicio.id}" th:text="X"
							onclick="return confirm('Esta seguro que quiere eliminar');"></a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="container">
			<div class="row justify-content-md-center">
				<div class="col-md-6">
						<h4>Muestra como ser verá el frontal</h4>
						<div class="container">
							<div class="row" th:each="servicio: ${serviciosActivos}">
								<div class="col-1">
									<h2><i th:classappend="${servicio.icono}+' pt-2'"></i></h2>
								</div>
								<div class="col-8">
										<span class="font-weight-bolder" th:text="${servicio.nombreServicio}"></span>
										<p class="text-muted" th:text="${servicio.descripcion}"></p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
	<!-- Modal -->
	<div class="modal fade" id="instrucciones" tabindex="-1" aria-labelledby="instruccionesLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="instruccionesLabel">Instrucciones</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <ul>
	        	<li> Vamos a la siguiente página: <a href="https://fontawesome.com">Iconos</a> </li>
	        	<li> Copiamos el texto del icono:
	        		 <p>&nbsp;Por ejemplo <em> < i class="fas fa-home"></i> </em> SOLO nos quedamos con <b>fas fa-home</b></p></li>
	        	<li> Ese texto lo pegamos en el campo "datos del icono"</li>
	        	<li> Rellenamos el resto de los campos y el sistema solo lo traducirá</li>
	        	<li> El campo icono mostrará el icono en el frontal</li>
	        	<li> El campo descripción se mostrará en el frontal</li>
	        </ul>
	      </div>
	    </div>
	  </div>
	</div>

	<footer th:replace="layout/layout :: footer"></footer>


</body>
</html>